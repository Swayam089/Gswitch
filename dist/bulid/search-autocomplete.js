"use strict";$(function(){var n,i,a,s=$(".search-input"),o=$(".search-button"),u=0;var t=s.autocomplete({serviceUrl:"/services/get-game-title.json",dataType:"json",minChars:2,paramName:"q",showNoSuggestionNotice:!0,transformResult:function(t){return a=t.spellcheck,{suggestions:$.map(t.rows,function(t){return{value:t.title,data:{gameId:t.id,url:t.url,imageFile:t.image}}})}},formatResult:function(t){return'<span class="gsugg_img"><img alt="" src="'+t.data.imageFile+'" width="46" height="35"></span><span class="gsugg_title">'+t.value+"</span>"},onSearchStart:function(){},onSearchComplete:function(t){$.each(t.split(" "),function(t,e){$(".gsugg_title").highlight(e)}),o.removeAttr("disabled")},onSelect:function(t){var e="Clicked";s.keypress(function(t){13===t.keyCode&&(e="Entered")}),setTimeout(function(){$(window).trigger("gaPushEvent",{event:"gaTriggerEvent",gaEventCategory:"Attitude",gaEventAction:"Go to the Game "+e,gaEventLabel:t.data.gameId+"||"+t.value})},10),setTimeout(function(){$(location).attr("href",t.data.url)},50)},maxHeight:440,width:250,zIndex:9999,deferRequestBy:400}).data("autocomplete");t._suggest=t.suggest,t.suggest=function(){var t;this._suggest(),null!==a.didYouMean&&(t=$("<div></div>").addClass("autocomplete-did-you-mean").html("<span>Did you mean?</span><span>&quot;"+a.didYouMean+"&quot;</span>").click(function(){s.val(a.didYouMean).trigger("change.autocomplete")}),$(this.suggestionsContainer).prepend(t));var e=$("<div></div>").addClass("autocomplete-show-all").html("<span>Show All</span>").click(function(){$("#searchForm").submit()});$(this.suggestionsContainer).append(e)},o.click(function(t){if(""===s.val())return $(this).attr("disabled",!0),$.get("/services/suggest-game-title.json",function(t){n=$("<div/>").html(t.title_part).text(),s.focus(),function e(){var a=n.length,t=Math.round(200*Math.random())+50;i=setTimeout(function(){u++;var t=n.substring(0,u);s.val(t),e(),u===a&&(s.val(s.val()),clearTimeout(i),s.trigger("keyup"),s.focus(),u=0,o.attr("disabled",!1))},t)}(),$(window).trigger("gaPushEvent",{event:"gaTriggerEvent",gaEventCategory:"Attitude",gaEventAction:"Suggest a Game Name Part",gaEventLabel:n})},"json"),!1})});